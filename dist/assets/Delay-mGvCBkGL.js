import{r as c,j as e}from"./index-Unzykuk8.js";import{r as p,o as y,S as g,b,p as D,s as j}from"./stop-circle-DqqeZ05H.js";import{s as v,g as T,b as _,d as k,p as L,v as N}from"./VOCAL WITH VERB-DVYifobt.js";import{S,D as d}from"./StereoFeedbackEffect-BWPbkYbB.js";import"./StereoEffect-D9K0WMVi.js";import"./CrossFade-Bq0s1Naa.js";import"./Merge-DoBl48kR.js";class h extends S{constructor(l){super(l),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),p(this,["feedback"])}}class u extends h{constructor(){const l=y(u.getDefaults(),arguments,["delayTime","feedback"]);super(l),this.name="PingPongDelay",this._leftDelay=new d({context:this.context,maxDelay:l.maxDelay}),this._rightDelay=new d({context:this.context,maxDelay:l.maxDelay}),this._rightPreDelay=new d({context:this.context,maxDelay:l.maxDelay}),this.delayTime=new g({context:this.context,units:"time",value:l.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),p(this,["delayTime"])}static getDefaults(){return Object.assign(h.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}const m=[{noteAllocation:"C4",fileLocation:v,sampleTitle:"Sunshine"},{noteAllocation:"D4",fileLocation:T,sampleTitle:"Guitar"},{noteAllocation:"E4",fileLocation:_,sampleTitle:"Bass"},{noteAllocation:"F4",fileLocation:k,sampleTitle:"Drums"},{noteAllocation:"G4",fileLocation:L,sampleTitle:"Piano"},{noteAllocation:"A5",fileLocation:N,sampleTitle:"Vocals"}],F=()=>{const[r,l]=c.useState(!1),n=c.useRef(null),a=c.useRef(null);c.useEffect(()=>(n.current=new b(Object.fromEntries(m.map(t=>[t.noteAllocation,t.fileLocation])),{onload:()=>{l(!0)}}),a.current=new u({delayTime:1,feedback:.5,wet:.5}).toDestination(),n.current&&a.current&&n.current.connect(a.current),()=>{n.current&&n.current.dispose(),a.current&&a.current.dispose()}),[]);const f=t=>{r&&n.current&&n.current.triggerAttack(t)},x=t=>{n.current&&n.current.triggerRelease(t)},o=(t,s,i)=>{a.current&&(a.current.delayTime.value=t,a.current.feedback.value=s,a.current.wet.value=i)};return e.jsxs("div",{children:[e.jsx("h1",{children:"Delay"}),e.jsx("p",{className:"blurb",children:"This gives a repeat of the audio signal that plays after the original to give a spacial effect."}),e.jsxs("div",{className:"audioComponentDisplay",children:[e.jsx("div",{className:"playerButtonBox",children:e.jsx("div",{children:m.map(t=>e.jsxs("div",{className:"playerButtonBox",children:[e.jsx("h2",{className:"sampleTitle",children:t.sampleTitle}),e.jsx("div",{onClick:()=>r&&f(t.noteAllocation),children:e.jsx("img",{src:D,alt:"Play",className:"buttons"})}),e.jsx("div",{onClick:()=>r&&x(t.noteAllocation),children:e.jsx("img",{src:j,alt:"Stop",className:"buttons"})})]},t.noteAllocation))})}),e.jsxs("div",{className:"paramDials",children:[e.jsxs("div",{className:"buttonSection",children:[e.jsxs("label",{children:["Time: ",e.jsx("br",{}),e.jsx("input",{type:"range",min:"1",max:"3",step:"0.0001",defaultValue:"1",onChange:t=>{var s,i;return o(parseFloat(t.target.value),((s=a.current)==null?void 0:s.feedback.value)||.5,((i=a.current)==null?void 0:i.wet.value)||.5)}})]}),e.jsx("div",{className:"explainer",children:"How much space there is between delayed sounds"})]}),e.jsxs("div",{className:"buttonSection",children:[e.jsxs("label",{children:["Repeats: ",e.jsx("br",{}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",defaultValue:"0.5",onChange:t=>{var s,i;return o(((s=a.current)==null?void 0:s.delayTime.value)||1,parseFloat(t.target.value),((i=a.current)==null?void 0:i.wet.value)||.5)}})]}),e.jsx("div",{className:"explainer",children:"The number of times the sound is repeated"})]}),e.jsxs("div",{className:"buttonSection",children:[e.jsxs("label",{children:["Mix: ",e.jsx("br",{}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",defaultValue:"0.5",onChange:t=>{var s,i;return o(((s=a.current)==null?void 0:s.delayTime.value)||1,((i=a.current)==null?void 0:i.feedback.value)||.5,parseFloat(t.target.value))}})]}),e.jsx("div",{className:"explainer",children:"Sets ratio of unaffected signal to affected signal"})]})]})]})]})};export{F as default};
